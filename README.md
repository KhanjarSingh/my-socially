# my-socially

## Description
My Socially is a comprehensive project that analyzes marketing spend data and exposes it via a Node.js backend. The project consists of a Python script that reads marketing spend data, cleans it, calculates key metrics (ROAS, CPC, CPA), generates channel-wise and monthly summaries, produces actionable insights, and exports the results to a JSON file. The Node.js backend then serves this data through multiple RESTful API endpoints.

## Requirements and Libraries

### Python
- Python 3.x
- `pandas`
- `numpy`
- `json` (built-in)
- `sys` (built-in)

### Node.js
- Node.js (v14 or higher recommended)
- `express`: Fast, unopinionated, minimalist web framework for Node.js.
- `cors`: Express middleware to enable Cross-Origin Resource Sharing.
- `fs`: File system standard library (built-in).

## How to Run the Python Analysis Script
1. Navigate to the project root directory.
2. Ensure your data file (`marketing_spend_data.csv`) is present in the root directory.
3. Run the analysis script using Python:
   ```bash
   python spend_analysis.py [optional_path_to_csv]
   ```
   If no argument is passed, it defaults to reading `marketing_spend_data.csv`.

## How to Generate `summary_data.json`
The `summary_data.json` file is automatically generated when you run the Python analysis script (`spend_analysis.py`). The script processes the raw CSV data, calculates the metrics, and exports the findings directly to `summary_data.json` in the current working directory. The backend will read from this file.

## How to Run the Node.js Backend
1. Navigate to the `backend` directory:
   ```bash
   cd backend
   ```
2. Install the necessary dependencies:
   ```bash
   npm install
   ```
3. Ensure that `summary_data.json` is available in the `backend` directory (or wherever the server is executed from), as the server reads this file synchronously for API requests.
4. Start the server:
   ```bash
   node server.js
   ```
5. The server will run on port `3000` by default (or the port specified in your `PORT` environment variable).

## API Endpoints
The backend provides several endpoints to access specific metrics. By default, the base URL is `http://localhost:3000`.

- **`GET /api/summary`**: Returns overall performance metrics (total spend, revenue, conversions, overall ROAS).
- **`GET /api/channels`**: Returns channel-wise metrics.
  - Query Parameters: `sort_by` (default: 'roas'), `order` (default: 'desc', can be 'asc' or 'desc')
  - Example: `/api/channels?sort_by=spend&order=desc`
- **`GET /api/monthly`**: Returns monthly performance data.
  - Query Parameters: `month` (e.g., '2025-08') filter for a specific month.
  - Example: `/api/monthly?month=2025-08`
- **`GET /api/campaigns`**: Returns top performing campaigns (if available in the summary data).
  - Query Parameters: `channel`, `min_roas`, `max_roas`
  - Example: `/api/campaigns?channel=Email&min_roas=5`
- **`GET /api/insights`**: Returns actionable insights generated by the Python script along with a timestamp.

## Key Metrics and Findings
- **Overall ROAS:** ~3.61x
- **Total Spend:** ~$46.3M
- **Total Revenue:** ~$167.0M
- **Total Conversions:** 760,490
- **Best Channel:** Email has the highest ROAS at 7.28x. Scaling budget here is highly recommended.
- **Worst Channel:** Instagram has the lowest ROAS at 2.91x, requiring immediate optimization.
- **Monthly Performance:** Stable performance month-over-month with ROAS consistently hovering around 3.57x - 3.63x.

## Example Output Snippets

### Python Console Output Snippet
```
Loading data...
Rows loaded: 7600
Calculating metrics...
Generating summary...
{'total_spend': 46303442.9, 'total_revenue': 166979422.66, 'total_conversions': 760490, 'overall_roas': 3.606198852655943}

Insights:
- Email is the highest performing channel with ROAS of 7.28x. Consider scaling budget.
- Instagram has the lowest ROAS of 2.91x. Optimization required.
...
summary_data.json exported successfully.
```

### JSON API Output (`/api/summary`) Snippet
```json
{
    "total_spend": 46303442.9,
    "total_revenue": 166979422.66,
    "total_conversions": 760490,
    "overall_roas": 3.606198852655943
}
```
